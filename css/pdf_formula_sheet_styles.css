/* --- START OF FILE css/pdf_formula_sheet_styles.css --- */

/*
   === PDF Formula Sheet Styles ===
   For Artin's Abstract Algebra - Chapter 1: Matrix Operations and Properties
   Aims for high-quality, professional, academic, historic, and gamified aesthetics.
   DEBUGGING: Added !important to many rules.
*/

/* --- CSS Variables for Color Scheme (Consistent with Exam PDF) --- */
:root {
    --pdf-fs-color-navy: #1B263B;
    --pdf-fs-color-burgundy: #4A1C2B;
    --pdf-fs-color-parchment: #F5E9D4;
    --pdf-fs-color-parchment-rgb: 245, 233, 212;
    --pdf-fs-color-gold: #D4A017;
    --pdf-fs-color-emerald: #2E7D32;
    --pdf-fs-color-black: #000000;
    --pdf-fs-color-dark-charcoal: #333333;
    --pdf-fs-color-off-white: #F8F6F0; /* Page background */
    --pdf-fs-color-white: #FFFFFF;     /* Content area background */
}

/* --- Font Imports (Same as Exam PDF for consistency) --- */
@import url('https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400..900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Old+Standard+TT:ital,wght@0,400;0,700;1,400&display=swap');


/* --- Base Styles & Page Setup --- */
@page {
    size: A4 portrait !important;
    margin: 2cm !important;
}

body {
    font-family: 'EB Garamond', Georgia, serif !important;
    font-size: 11pt !important;
    line-height: 1.25 !important;
    color: var(--pdf-fs-color-dark-charcoal) !important;
    background-color: var(--pdf-fs-color-off-white) !important;
    margin: 0 !important;
    padding: 0 !important;
    box-sizing: border-box !important;
}
*, *::before, *::after {
    box-sizing: inherit !important;
}

/* --- Main Content Framing --- */
.pdf-fs-main-content {
    padding: 1cm !important;
    border: 2pt solid var(--pdf-fs-color-navy) !important;
    min-height: calc(100vh - 4cm - 4pt) !important; /* Account for border */
    background-color: var(--pdf-fs-color-white) !important;
    box-shadow: 0 0 8px rgba(0,0,0,0.15) !important;
    position: relative !important;
    z-index: 1 !important;
}

/* --- Titles and Headings --- */
h1.pdf-fs-title {
    font-family: 'Cinzel', serif !important;
    font-weight: 700 !important;
    font-size: 18pt !important;
    color: var(--pdf-fs-color-navy) !important;
    text-align: center !important;
    margin: 0.5cm 0 0.8cm 0 !important;
    padding-bottom: 0.2cm !important;
    border-bottom: 1.5pt solid var(--pdf-fs-color-navy) !important;
    line-height: 1.2 !important;
    font-variant: small-caps !important;
    letter-spacing: 0.05em !important;
}
h2.pdf-fs-subtitle {
    font-family: 'Playfair Display', serif !important;
    font-weight: 600 !important;
    font-size: 14pt !important;
    color: var(--pdf-fs-color-burgundy) !important;
    margin-top: 1cm !important;
    margin-bottom: 0.4cm !important;
    text-align: center !important;
    border-bottom: 1pt dashed var(--pdf-fs-color-gold) !important;
    padding-bottom: 0.1cm !important;
}
h3.pdf-fs-section-heading {
    font-family: 'Lora', serif !important;
    font-weight: bold !important;
    font-size: 13pt !important;
    color: var(--pdf-fs-color-navy) !important;
    margin-top: 0.8cm !important;
    margin-bottom: 0.3cm !important;
    padding-bottom: 0.1cm !important;
    border-bottom: 0.5pt solid var(--pdf-fs-color-gold) !important;
}
h3.pdf-fs-section-heading::before {
    content: 'ðŸ“œ ' !important;
    color: var(--pdf-fs-color-gold) !important;
    font-family: 'Times New Roman', serif !important;
    margin-right: 0.2em !important;
}
h4.pdf-fs-subsection-heading {
    font-family: 'Old Standard TT', serif !important;
    font-weight: bold !important;
    font-size: 11pt !important;
    color: var(--pdf-fs-color-burgundy) !important;
    margin-top: 0.6cm !important;
    margin-bottom: 0.2cm !important;
    padding-left: 0.25in !important;
}
h4.pdf-fs-subsection-heading::before {
    content: 'âœ¨ ' !important;
    color: var(--pdf-fs-color-emerald) !important;
    margin-right: 0.2em !important;
}

/* --- Body Text & Formula Descriptions --- */
.pdf-fs-body-text p, .pdf-fs-description,
.note-ai-review-content p, .note-latex-content p, .note-text-content p,
#formula-sheet-content p, #chapter-summary-content p {
    font-family: 'EB Garamond', Georgia, serif !important;
    font-size: 11pt !important;
    line-height: 1.25 !important;
    color: var(--pdf-fs-color-dark-charcoal) !important;
    margin-bottom: 0.4em !important;
    text-align: left !important; /* For formula sheets, left align is often better than justify */
}

/* --- Mathematical Content (Formulas) --- */
mjx-container[jax="SVG"] {
    color: var(--pdf-fs-color-black) !important;
    line-height: 0 !important;
}
mjx-container[jax="SVG"] svg {
    overflow: visible !important;
}
mjx-container[jax="SVG"]:not([display="true"]) {
    display: inline-block !important;
    vertical-align: -0.15ex !important;
    margin: 0 0.05em !important;
    font-size: 10pt !important;
}
mjx-container[jax="SVG"][display="true"] {
    display: block !important;
    margin: 0.6em auto !important;
    text-align: center !important;
    overflow-x: auto !important;
    max-width: 100% !important;
    font-size: 11pt !important;
}

.key-formula-box {
    border: 1pt solid var(--pdf-fs-color-navy) !important;
    padding: 0.5em !important;
    margin: 0.6em auto !important;
    background-color: rgba(var(--pdf-fs-color-parchment-rgb), 0.2) !important;
    border-radius: 4px !important;
    page-break-inside: avoid !important;
}
.key-formula-box mjx-container[jax="SVG"][display="true"] {
    margin: 0.2em auto !important;
}
.key-term {
    font-weight: bold !important;
    color: var(--pdf-fs-color-burgundy) !important;
}

/* --- Lists for Properties --- */
.properties-list {
    list-style-type: none !important;
    padding-left: 1.5em !important;
    margin-top: 0.3em !important;
    margin-bottom: 0.5em !important;
}
.properties-list li {
    margin-bottom: 0.2em !important;
    font-size: 10pt !important;
    line-height: 1.2 !important;
    position: relative !important;
    padding-left: 1.2em !important;
}
.properties-list li::before {
    content: 'â—ˆ' !important;
    color: var(--pdf-fs-color-emerald) !important;
    font-size: 0.8em !important;
    position: absolute !important;
    left: 0 !important;
    top: 0.1em !important;
}

/* --- Section Framing and Dividers (Gamified) --- */
.pdf-fs-section {
    margin-bottom: 1cm !important;
    padding: 0.5cm !important;
    border: 0.5pt solid var(--pdf-fs-color-gold) !important;
    border-radius: 5px !important;
    background-color: rgba(var(--pdf-fs-color-parchment-rgb), 0.1) !important;
    page-break-inside: avoid !important;
}
.pdf-fs-divider {
    height: 1px !important;
    width: 70% !important;
    margin: 0.8cm auto !important;
    background: linear-gradient(to right, transparent, var(--pdf-fs-color-gold), transparent) !important;
}

/* --- "Knowledge Unlocked" Badge (Gamified) --- */
.knowledge-unlocked-badge {
    display: inline-block !important;
    font-size: 8pt !important;
    color: var(--pdf-fs-color-white) !important;
    background-color: var(--pdf-fs-color-emerald) !important;
    padding: 0.1em 0.5em !important;
    border-radius: 10px !important;
    margin-left: 0.5em !important;
    vertical-align: middle !important;
    font-family: 'Cinzel', serif !important;
}

/* --- Utility for Page Breaks (same as exam) --- */
.page-break-before { page-break-before: always !important; }
.page-break-after { page-break-after: always !important; }
.page-break-inside-avoid { page-break-inside: avoid !important; }
.no-page-break { page-break-inside: avoid !important; }

/* --- Styles for content generated by AI (Formula sheets, summaries) --- */
.note-ai-review-content, .note-latex-content, .note-text-content,
#formula-sheet-content, #chapter-summary-content {
    font-family: 'EB Garamond', Georgia, serif !important;
    font-size: 11pt !important;
    line-height: 1.25 !important;
    color: var(--pdf-fs-color-dark-charcoal) !important;
}
#formula-sheet-content ul, #formula-sheet-content ol,
#chapter-summary-content ul, #chapter-summary-content ol {
    margin-left: 1.5em !important;
    margin-bottom: 0.5em !important;
}
#formula-sheet-content li, #chapter-summary-content li {
    margin-bottom: 0.2em !important;
}
#formula-sheet-content strong, #chapter-summary-content strong {
    font-weight: bold !important;
    color: var(--pdf-fs-color-navy) !important;
}
#formula-sheet-content em, #chapter-summary-content em {
    font-style: italic !important;
}
#formula-sheet-content pre, #chapter-summary-content pre {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace !important;
    background-color: rgba(var(--pdf-fs-color-parchment-rgb), 0.4) !important;
    padding: 0.6em !important;
    border-radius: 4px !important;
    overflow-x: auto !important;
    margin: 0.8em 0 !important;
    border: 1px solid rgba(var(--pdf-fs-color-navy), 0.3) !important;
    page-break-inside: avoid !important;
    font-size: 9pt !important;
    line-height: 1.3 !important;
}
#formula-sheet-content code:not(pre code), #chapter-summary-content code:not(pre code) {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace !important;
    background-color: rgba(var(--pdf-fs-color-parchment-rgb), 0.2) !important;
    padding: 0.1em 0.3em !important;
    border-radius: 2px !important;
    font-size: 0.9em !important;
}

/* --- END OF FILE css/pdf_formula_sheet_styles.css --- */